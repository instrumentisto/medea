kind: Room
id: three-members-conference
spec:
  pipeline:
    member-1:
      kind: Member
      credentials: test
      on_join: "grpc://127.0.0.1:9099"
      on_leave: "grpc://127.0.0.1:9099"
      spec:
        pipeline:
          publish:
            kind: WebRtcPublishEndpoint
            spec:
              force_relay: true
              on_start: "grpc://127.0.0.1:9099"
              on_stop: "grpc://127.0.0.1:9099"
              p2p: Always
          play-responder-1:
            kind: WebRtcPlayEndpoint
            spec:
              force_relay: true
              on_start: "grpc://127.0.0.1:9099"
              on_stop: "grpc://127.0.0.1:9099"
              src: "local://three-members-conference/member-2/publish"
          play-responder-2:
            kind: WebRtcPlayEndpoint
            spec:
              force_relay: true
              on_start: "grpc://127.0.0.1:9099"
              on_stop: "grpc://127.0.0.1:9099"
              src: "local://three-members-conference/member-3/publish"
    member-2:
      kind: Member
      credentials: test
      on_join: "grpc://127.0.0.1:9099"
      on_leave: "grpc://127.0.0.1:9099"
      spec:
        pipeline:
          publish:
            kind: WebRtcPublishEndpoint
            spec:
              force_relay: true
              on_start: "grpc://127.0.0.1:9099"
              on_stop: "grpc://127.0.0.1:9099"
              p2p: Always
          play-caller:
            kind: WebRtcPlayEndpoint
            spec:
              force_relay: true
              on_start: "grpc://127.0.0.1:9099"
              on_stop: "grpc://127.0.0.1:9099"
              src: "local://three-members-conference/member-1/publish"
          play-responder-2:
            kind: WebRtcPlayEndpoint
            spec:
              force_relay: true
              on_start: "grpc://127.0.0.1:9099"
              on_stop: "grpc://127.0.0.1:9099"
              src: "local://three-members-conference/member-3/publish"
    member-3:
      kind: Member
      credentials: test
      on_join: "grpc://127.0.0.1:9099"
      on_leave: "grpc://127.0.0.1:9099"
      spec:
        pipeline:
          publish:
            kind: WebRtcPublishEndpoint
            spec:
              force_relay: true
              on_start: "grpc://127.0.0.1:9099"
              on_stop: "grpc://127.0.0.1:9099"
              p2p: Always
          play-caller:
            kind: WebRtcPlayEndpoint
            spec:
              force_relay: true
              on_start: "grpc://127.0.0.1:9099"
              on_stop: "grpc://127.0.0.1:9099"
              src: "local://three-members-conference/member-1/publish"
          play-responder-1:
            kind: WebRtcPlayEndpoint
            spec:
              force_relay: true
              on_start: "grpc://127.0.0.1:9099"
              on_stop: "grpc://127.0.0.1:9099"
              src: "local://three-members-conference/member-2/publish"
